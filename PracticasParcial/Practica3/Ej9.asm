HAND EQU 40H
PIC EQU 20H
N_HAND EQU 10

ORG 40
IP_HAND DW RUT_HAND

ORG 3000H
RUT_HAND: PUSH AX
MOV AL, [BX]
OUT HAND, AL
INC BX
DEC CL
MOV AL, 20H
OUT PIC, AL
POP AX
IRET

ORG 1000H
MSJ DB ?
ORG 2000H
MOV CL, 5
MOV BX, OFFSET MSJ
INGRESO: CMP CL, 0
JZ FIN_INGRESO
INT 6
DEC CL
INC BX
JMP INGRESO
FIN_INGRESO: MOV BX, OFFSET MSJ
MOV CL, 5
CLI
MOV AL, 0FBH
OUT PIC+1, AL
MOV AL, N_HAND
OUT PIC+6,AL
MOV AL, 80H
OUT HAND+1, AL
STI
LAZO: CMP CL, 0
JNZ LAZO
IN AL, HAND+1
AND AL, 07FH
OUT HAND+1, AL
HLT
END
