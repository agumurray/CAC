PIO EQU 30H
PIC EQU 20H
N_F10 EQU 10

ORG 40
IP_F10 DW RUT_F10

ORG 3000H 
RUT_F10: PUSH AX
MOV DL, 1
MOV AL, CL
SUB BL, CL
DEC CL
POLL: IN AL, PIO
AND AL, 1
JNZ POLL
MOV AL, [BX]
OUT PIO+1, AL
IN AL, PIO
OR AL, 02H
OUT PIO, AL
IN AL, PIO
AND AL, 0FDH
OUT PIO, AL
INC BX
DEC CL
JNZ POLL
MOV AL, 20H
OUT PIO, AL
POP AX
IRET


ORG 1000H
PALABRA DB ?

ORG 2000H
MOV BX, OFFSET PALABRA
MOV AL, 0
OUT PIO+3, AL
MOV AL, 0FDH
OUT PIO+2, AL
IN AL, PIO
AND AL, 0FDH
OUT PIO, AL
CLI
MOV AL, 0FEH
OUT PIC+1, AL
MOV AL, N_F10
OUT PIC+4, AL
STI
MOV CL, 0
MOV DL, 0
LEER: CMP DL, 0
JNZ FIN
INC CL
INT 6
INC BX
JMP LEER
FIN: HLT 
END